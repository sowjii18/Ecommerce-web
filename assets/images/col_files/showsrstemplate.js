!function(e){var t=function(t,i){var r=e.createElement("script");r.type="text/javascript",r.src=t,e.getElementsByTagName("head")[0].appendChild(r),r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,s("",i))}:r.onload=function(){sloaded=!0,s("",i)}},s=function(t,s){var i=e.createElement("script");i.type="text/javascript",i.src="https://app.testimonialhub.com/resources/public/js/wprs-combined.min.js",e.getElementsByTagName("head")[0].appendChild(i);if(!e.getElementById("srs_css")){var r=e.getElementsByTagName("head")[0],n=e.createElement("link");n.id="srs_css",n.rel="stylesheet",n.type="text/css",n.href="https://app.testimonialhub.com/resources/public/css/srs_slider_master_min.css",n.media="all",r.appendChild(n)}i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,s())}:i.onload=function(){s()}},i=function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}},r=function(e){var t=e('*:contains("[srs_template_")').last();(e(t).length&&s(t,"shortcode"),e(".srs_slider").length)&&s(e(".srs_slider"),"div");function s(t,s){var r=Shopify.shop;e(t).each(function(t){var n="",a=e(this);"div"==s&&e(this).attr("id")&&(n=e(this).attr("id").split("_").pop());if("shortcode"==s){var o=e(this).text();o=(o=o.replace("[srs_template_","")).replace("]",""),n=parseInt(o)}console.log("templateid:"+n),console.log("shopurl:"+r);var l={},c={},d={},p={};e.ajax({url:"https://app.testimonialhub.com/resources/public/ajax_get_slider.php",data:{storename:r,tid:n},dataType:"jsonp",success:function(t){a.html(""),console.log(t);var s=t[0];a.append(s);var r,n=i(t[3]),o=parseInt(t[4]),h=t[5],u=i(t[6]),v=i(t[7]),g=t[8],f=t[9],m=t[10],w=t[11],y=t[12],_=t[13],j=t[14],b=t[15],x=t[16],Q=t[17];if(t[18]){var S=t[18];console.log(S)}t[19]&&(r=t[19]);var q=750;if(t[20]&&(q=parseInt(t[20])),"1"==f){var C=e(".wprev-slider").wprs_unslider({autoplay:n,delay:o,speed:q,animation:h,arrows:u,animateHeight:v,activeClass:"wprs_unslider-active"});if("yes"==g&&C.on("mouseover",function(){C.data("wprs_unslider").stop()}).on("mouseout",function(){C.data("wprs_unslider").start()}),C.on("wprs_unslider.change",function(t,s,i){e(".wprev-slider").find(".wprs_rd_less:visible").trigger("click")}),"fade"==h&&0==v){a.find(".wprs_unslider-active").show();var E=a.find("li").map(function(){return e(this).height()}).get(),N=Math.max.apply(null,E);e(".wprs_unslider-active").height();e(".wprs_unslider-active").closest(".wprev-slider").css("height",N)}var k="#wprev-slider-"+r;e(k).siblings(".wprs_unslider-nav").attr("id","wprs_nav_"+r),e(k).siblings(".wprs_unslider-arrow").attr("id","wprs_nav_arrow_"+r)}if("yes"==Q){var B=a.find(".w3_wprs-col").find("p").map(function(){return e(this).outerHeight()}).get(),H=Math.max.apply(null,B);a.find(".w3_wprs-col").find("p").css("height",H)}if("yes"==m&&Number(b)>0){var R='<script type="application/ld+json">{"@context": "http://schema.org/","@type": "'+w+'","name": "'+y+'","description": "'+_+'","aggregateRating": {"@type": "AggregateRating","ratingValue": "'+b+'","ratingCount": "'+j+'"},"image": "'+x+'"}<\/script>';a.append(R)}e(".wprs_rd_more").unbind().on("click",function(t){t.preventDefault();var s=e(this).closest(".indrevdiv").height(),i=e(this).closest(".indrevdiv").outerHeight(),r=e(this).closest(".wprev-slider").attr("id"),n=r+"-"+e(this).closest(".w3_wprs-col").index(),a=r+"-"+e(this).closest("li").index();l[n]=e(this).closest(".indrevdiv").css("height"),c[n]=e(this).closest(".wprev-slider").css("height"),d[n]=e(this).closest(".wprev-slider-widget").css("height"),(Number(c[n])<Number(p[a])||!p[a]||void 0===p[a])&&(p[a]=c[n]),(Number(d[n])<Number(p[a])||!p[a]||void 0===p[a])&&(p[a]=d[n]),e(this).closest(".indrevdiv").css("height","auto"),e(this).closest(".indrevdiv").parent().css("height","auto"),e(this).parent().css("height","auto"),e(this).hide(),e(this).prevAll("span.wprs_rd_more_1").hide(),e(this).next("span").show(0,function(){e(this).css("display","inline"),e(this).next(".wprs_rd_less").show();var t=e(this);setTimeout(function(){!function(t){var s=e(t).closest(".wprs_unslider-active").outerHeight(!0),i=e(t).closest(".wprs_unslider").find("li").map(function(){return e(this).outerHeight()}).get(),r=Math.max.apply(null,i);s>r||s==r?(e(t).closest(".wprev-slider").animate({height:s},300),e(t).closest(".wprev-slider-widget").animate({height:s},300)):r>100&&(e(t).closest(".wprev-slider").animate({height:r},300),e(t).closest(".wprev-slider-widget").animate({height:r},300))}(t)},20)}),e(this).closest(".indrevdiv").height()<s&&(i>s?e(this).closest(".indrevdiv").css("height",i):e(this).closest(".indrevdiv").css("height",s))}),e(".wprs_rd_less").unbind().on("click",function(t){t.preventDefault();var s=e(this).closest(".wprev-slider").attr("id"),i=s+"-"+e(this).closest(".w3_wprs-col").index();e(this).closest("li").index();e(this).hide(),e(this).prev("span").hide(0,function(){e(this).prevAll(".wprs_rd_more").show(),e(this).prevAll("span.wprs_rd_more_1").show()});e(this).closest(".wprevprodiv").find(".wprs_rd_less:visible").length;var r=c[i],n=d[i];e(this).closest(".indrevdiv").animate({height:l[i]},0),e(this).closest(".wprev-slider").animate({height:r},200),e(this).closest(".wprev-slider-widget").animate({height:n},200)})},error:function(e,t){console.log("Error pulling reviews from Social Review Slider database."),console.log("Request failed: "+t),console.log(e)},complete:function(e){console.log(e),console.log("Done pulling reviews from Social Review Slider database.")}})})}};function n(){"undefined"==typeof jQuery?(console.log("jquery undefined"),t("https://code.jquery.com/jquery-1.12.4.min.js",function(){jQuery=jQuery.noConflict(!0),r(jQuery)})):(console.log("jquery defined"),"function"==typeof jQuery.ajax?s("",function(){r(jQuery)}):(console.log("jquery defined, but no ajax..adding"),t("https://code.jquery.com/jquery-1.12.4.min.js",function(){jQuery=jQuery.noConflict(!0),r(jQuery)})))}n(),"undefined"!=typeof jQuery&&jQuery(e).on("shopify:block:select",n).on("shopify:section:unload",n)}(document);